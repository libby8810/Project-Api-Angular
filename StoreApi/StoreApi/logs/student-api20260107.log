2026-01-07 14:43:49.311 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 14:43:49.409 +02:00 [INF] Creating key {5ff3e8b0-3e6e-4e86-994d-6ec0f63a018c} with creation date 2026-01-07 12:43:49Z, activation date 2026-01-07 12:43:49Z, and expiration date 2026-04-07 12:43:49Z.
2026-01-07 14:43:49.515 +02:00 [INF] Writing data to file 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys\key-5ff3e8b0-3e6e-4e86-994d-6ec0f63a018c.xml'.
2026-01-07 14:43:49.671 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 14:43:49.759 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 14:43:49.763 +02:00 [INF] Hosting environment: Development
2026-01-07 14:43:49.767 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 14:43:50.466 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 14:43:50.622 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 162.8431ms
2026-01-07 14:43:50.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 14:43:50.633 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 14:43:50.645 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 14.5029ms
2026-01-07 14:43:50.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.7413ms
2026-01-07 14:43:50.782 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 14:43:50.799 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.4831ms
2026-01-07 14:44:51.224 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/register - application/json 75
2026-01-07 14:44:51.245 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 14:44:51.729 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 14:44:51.763 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[StoreApi.DTOs.UserResponseDTO]] Register(StoreApi.DTOs.UserCreateDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 14:44:52.323 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-07 14:44:52.349 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Register (StoreApi) in 576.7111ms
2026-01-07 14:44:52.359 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 14:44:52.368 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/register - 400 null application/problem+json; charset=utf-8 1144.4293ms
2026-01-07 14:45:03.399 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/register - application/json 79
2026-01-07 14:45:03.410 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 14:45:03.421 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[StoreApi.DTOs.UserResponseDTO]] Register(StoreApi.DTOs.UserCreateDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 14:45:05.590 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-07 14:45:05.781 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Name], [Password], [Role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2026-01-07 14:45:05.817 +02:00 [INF] User created with ID: 5
2026-01-07 14:45:05.825 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'StoreApi.DTOs.UserResponseDTO'.
2026-01-07 14:45:05.857 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Register (StoreApi) in 2432.6888ms
2026-01-07 14:45:05.860 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 14:45:05.868 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/register - 201 null application/json; charset=utf-8 2469.499ms
2026-01-07 14:45:36.128 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 58
2026-01-07 14:45:36.142 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 14:45:36.152 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 14:45:36.236 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 14:45:36.242 +02:00 [WRN] Login attempt failed: User not found for email user1@gmail.com
2026-01-07 14:45:36.244 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 14:45:36.249 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 92.5586ms
2026-01-07 14:45:36.253 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 14:45:36.255 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 401 null application/json; charset=utf-8 129.2696ms
2026-01-07 14:45:45.305 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 58
2026-01-07 14:45:45.311 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 14:45:45.313 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 14:45:45.361 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 14:45:45.364 +02:00 [WRN] Login attempt failed: User not found for email user1@gmail.com
2026-01-07 14:45:45.372 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 14:45:45.400 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 83.1467ms
2026-01-07 14:45:45.402 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 14:45:45.403 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 401 null application/json; charset=utf-8 98.5634ms
2026-01-07 14:47:37.142 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 14:47:37.331 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 14:47:37.393 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 14:47:37.394 +02:00 [INF] Hosting environment: Development
2026-01-07 14:47:37.395 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 14:47:37.806 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 14:47:37.959 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 158.4951ms
2026-01-07 14:47:37.969 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 14:47:37.973 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 14:47:37.983 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 14.4484ms
2026-01-07 14:47:38.018 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.3127ms
2026-01-07 14:47:38.070 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 14:47:38.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.8544ms
2026-01-07 14:48:48.945 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/register - application/json 79
2026-01-07 14:48:48.972 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 14:48:49.656 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 14:48:49.690 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[StoreApi.DTOs.UserResponseDTO]] Register(StoreApi.DTOs.UserCreateDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 14:48:52.498 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-07 14:48:52.645 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 14:48:52.654 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Register (StoreApi) in 2947.9426ms
2026-01-07 14:48:52.658 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 14:48:52.664 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/register - 400 null application/json; charset=utf-8 3719.1814ms
2026-01-07 14:49:05.608 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/register - application/json 79
2026-01-07 14:49:05.618 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 14:49:05.621 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[StoreApi.DTOs.UserResponseDTO]] Register(StoreApi.DTOs.UserCreateDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 14:49:05.658 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-07 14:49:05.839 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Name], [Password], [Role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2026-01-07 14:49:05.873 +02:00 [INF] User created with ID: 6
2026-01-07 14:49:05.879 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'StoreApi.DTOs.UserResponseDTO'.
2026-01-07 14:49:05.900 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Register (StoreApi) in 274.5381ms
2026-01-07 14:49:05.905 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 14:49:05.908 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/register - 201 null application/json; charset=utf-8 300.3054ms
2026-01-07 14:49:42.277 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 60
2026-01-07 14:49:42.285 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 14:49:42.293 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 14:49:42.386 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 14:49:42.463 +02:00 [INF] Generated JWT token for user 6
2026-01-07 14:49:42.466 +02:00 [INF] User 6 authenticated successfully
2026-01-07 14:49:42.468 +02:00 [INF] Executing OkObjectResult, writing value of type 'TrickyTrayAPI.DTOs.LoginResponseDTO'.
2026-01-07 14:49:42.471 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 163.072ms
2026-01-07 14:49:42.473 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 14:49:42.474 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 200 null application/json; charset=utf-8 199.8807ms
2026-01-07 15:01:36.151 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 15:01:36.288 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 15:01:36.354 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 15:01:36.361 +02:00 [INF] Hosting environment: Development
2026-01-07 15:01:36.363 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 15:01:36.573 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:01:36.724 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 155.4776ms
2026-01-07 15:01:36.731 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:01:36.740 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:01:36.776 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 45.8747ms
2026-01-07 15:01:36.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.7749ms
2026-01-07 15:01:36.858 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:01:36.878 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.4646ms
2026-01-07 15:01:48.592 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor - null null
2026-01-07 15:01:48.604 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 15:01:49.123 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-01-07 15:01:49.128 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-07 15:01:49.130 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor - 401 0 null 537.8657ms
2026-01-07 15:02:23.554 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 58
2026-01-07 15:02:23.564 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:02:23.586 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:02:26.182 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:02:26.200 +02:00 [WRN] Login attempt failed: User not found for email user2@gmail.com
2026-01-07 15:02:26.207 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 15:02:26.214 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 2623.6247ms
2026-01-07 15:02:26.216 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:02:26.224 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 401 null application/json; charset=utf-8 2670.3131ms
2026-01-07 15:05:32.338 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 58
2026-01-07 15:05:32.347 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:05:32.349 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:05:32.438 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:05:32.440 +02:00 [WRN] Login attempt failed: User not found for email user2@gmail.com
2026-01-07 15:05:32.442 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 15:05:32.447 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 96.3433ms
2026-01-07 15:05:32.449 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:05:32.451 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 401 null application/json; charset=utf-8 112.7961ms
2026-01-07 15:05:37.728 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 58
2026-01-07 15:05:37.734 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:05:37.738 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:05:37.803 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:05:37.806 +02:00 [WRN] Login attempt failed: User not found for email user2@gmail.com
2026-01-07 15:05:37.807 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 15:05:37.809 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 67.4631ms
2026-01-07 15:05:37.810 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:05:37.813 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 401 null application/json; charset=utf-8 84.7391ms
2026-01-07 15:06:26.736 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/register - application/json 77
2026-01-07 15:06:26.749 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 15:06:26.759 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[StoreApi.DTOs.UserResponseDTO]] Register(StoreApi.DTOs.UserCreateDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:06:26.794 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-07 15:06:26.904 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Name], [Password], [Role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2026-01-07 15:06:26.929 +02:00 [INF] User created with ID: 7
2026-01-07 15:06:26.935 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'StoreApi.DTOs.UserResponseDTO'.
2026-01-07 15:06:26.988 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Register (StoreApi) in 224.8801ms
2026-01-07 15:06:26.998 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 15:06:27.055 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/register - 201 null application/json; charset=utf-8 319.9083ms
2026-01-07 15:06:47.534 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 57
2026-01-07 15:06:47.539 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:06:47.541 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:06:47.550 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:06:47.555 +02:00 [WRN] Login attempt failed: User not found for email user@gmail.com
2026-01-07 15:06:47.557 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 15:06:47.560 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 15.3081ms
2026-01-07 15:06:47.563 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:06:47.566 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 401 null application/json; charset=utf-8 31.8685ms
2026-01-07 15:07:07.187 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 59
2026-01-07 15:07:07.195 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:07:07.197 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:07:07.201 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:07:07.275 +02:00 [INF] Generated JWT token for user 7
2026-01-07 15:07:07.278 +02:00 [INF] User 7 authenticated successfully
2026-01-07 15:07:07.280 +02:00 [INF] Executing OkObjectResult, writing value of type 'TrickyTrayAPI.DTOs.LoginResponseDTO'.
2026-01-07 15:07:07.282 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 83.6699ms
2026-01-07 15:07:07.284 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:07:07.285 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 200 null application/json; charset=utf-8 98.8866ms
2026-01-07 15:07:27.465 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor - null null
2026-01-07 15:07:27.485 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-01-07 15:07:27.489 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-07 15:07:27.490 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor - 401 0 null 25.9345ms
2026-01-07 15:07:45.436 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor - null null
2026-01-07 15:07:45.487 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-01-07 15:07:45.492 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2026-01-07 15:07:45.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor - 403 0 null 58.7846ms
2026-01-07 15:08:17.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:08:17.636 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 45.5581ms
2026-01-07 15:08:17.647 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:08:17.649 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:08:17.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 8.8392ms
2026-01-07 15:08:17.696 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.9522ms
2026-01-07 15:08:17.726 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:08:17.778 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.9452ms
2026-01-07 15:08:31.912 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor - null null
2026-01-07 15:08:31.920 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2026-01-07 15:08:31.946 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2026-01-07 15:08:31.949 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2026-01-07 15:08:31.950 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-01-07 15:08:31.952 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-07 15:08:31.954 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor - 401 0 null 41.3283ms
2026-01-07 15:09:02.442 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/register - application/json 79
2026-01-07 15:09:02.452 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 15:09:02.455 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[StoreApi.DTOs.UserResponseDTO]] Register(StoreApi.DTOs.UserCreateDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:09:02.465 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-07 15:09:02.477 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Name], [Password], [Role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2026-01-07 15:09:02.480 +02:00 [INF] User created with ID: 8
2026-01-07 15:09:02.482 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'StoreApi.DTOs.UserResponseDTO'.
2026-01-07 15:09:02.484 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Register (StoreApi) in 26.015ms
2026-01-07 15:09:02.485 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 15:09:02.487 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/register - 201 null application/json; charset=utf-8 44.4892ms
2026-01-07 15:09:04.378 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/register - application/json 79
2026-01-07 15:09:04.386 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 15:09:04.388 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[StoreApi.DTOs.UserResponseDTO]] Register(StoreApi.DTOs.UserCreateDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:09:04.397 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-07 15:09:04.548 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 15:09:04.551 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Register (StoreApi) in 161.305ms
2026-01-07 15:09:04.553 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 15:09:04.554 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/register - 400 null application/json; charset=utf-8 175.9673ms
2026-01-07 15:09:47.640 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 60
2026-01-07 15:09:47.655 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:09:47.657 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:09:47.669 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:09:47.673 +02:00 [INF] Generated JWT token for user 8
2026-01-07 15:09:47.675 +02:00 [INF] User 8 authenticated successfully
2026-01-07 15:09:47.677 +02:00 [INF] Executing OkObjectResult, writing value of type 'TrickyTrayAPI.DTOs.LoginResponseDTO'.
2026-01-07 15:09:47.680 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 18.381ms
2026-01-07 15:09:47.683 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:09:47.685 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 200 null application/json; charset=utf-8 45.1603ms
2026-01-07 15:10:15.975 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor - null null
2026-01-07 15:10:15.980 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2026-01-07 15:10:15.982 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2026-01-07 15:10:15.984 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2026-01-07 15:10:15.985 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2026-01-07 15:10:15.986 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-07 15:10:15.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor - 401 0 null 13.3744ms
2026-01-07 15:11:07.339 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:11:07.390 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 50.8132ms
2026-01-07 15:11:07.408 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:11:07.423 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:11:07.454 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 30.6702ms
2026-01-07 15:11:07.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.4376ms
2026-01-07 15:11:07.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:11:07.548 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.0896ms
2026-01-07 15:11:19.703 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/register - application/json 77
2026-01-07 15:11:19.709 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 15:11:19.711 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[StoreApi.DTOs.UserResponseDTO]] Register(StoreApi.DTOs.UserCreateDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:11:19.719 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-07 15:11:19.725 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Name], [Password], [Role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2026-01-07 15:11:19.729 +02:00 [INF] User created with ID: 9
2026-01-07 15:11:19.733 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'StoreApi.DTOs.UserResponseDTO'.
2026-01-07 15:11:19.734 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Register (StoreApi) in 19.8846ms
2026-01-07 15:11:19.736 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Register (StoreApi)'
2026-01-07 15:11:19.738 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/register - 201 null application/json; charset=utf-8 34.5626ms
2026-01-07 15:13:02.558 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 15:13:02.699 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 15:13:02.766 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 15:13:02.768 +02:00 [INF] Hosting environment: Development
2026-01-07 15:13:02.769 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 15:13:03.170 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:13:03.302 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 137.7056ms
2026-01-07 15:13:03.322 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:13:03.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:13:03.379 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 57.2956ms
2026-01-07 15:13:03.403 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.3674ms
2026-01-07 15:13:03.446 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:13:03.465 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.0965ms
2026-01-07 15:13:19.768 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 59
2026-01-07 15:13:19.797 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 15:13:20.359 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:13:20.401 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:13:22.496 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:13:22.685 +02:00 [INF] Generated JWT token for user 9
2026-01-07 15:13:22.690 +02:00 [INF] User 9 authenticated successfully
2026-01-07 15:13:22.705 +02:00 [INF] Executing OkObjectResult, writing value of type 'TrickyTrayAPI.DTOs.LoginResponseDTO'.
2026-01-07 15:13:22.712 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 2305.8688ms
2026-01-07 15:13:22.715 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:13:22.721 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 200 null application/json; charset=utf-8 2952.5478ms
2026-01-07 15:13:57.300 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Gift - null null
2026-01-07 15:13:57.321 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2026-01-07 15:13:57.366 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2026-01-07 15:13:57.369 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2026-01-07 15:13:57.374 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-07 15:13:57.380 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-07 15:13:57.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Gift - 401 0 null 84.35ms
2026-01-07 15:14:13.838 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:14:13.881 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 43.2235ms
2026-01-07 15:14:13.892 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:14:13.892 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:14:13.901 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 9.3509ms
2026-01-07 15:14:13.932 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.5686ms
2026-01-07 15:14:13.969 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:14:14.015 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.9787ms
2026-01-07 15:14:25.823 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 59
2026-01-07 15:14:25.832 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:14:25.837 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:14:25.871 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:14:25.876 +02:00 [INF] Generated JWT token for user 9
2026-01-07 15:14:25.878 +02:00 [INF] User 9 authenticated successfully
2026-01-07 15:14:25.880 +02:00 [INF] Executing OkObjectResult, writing value of type 'TrickyTrayAPI.DTOs.LoginResponseDTO'.
2026-01-07 15:14:25.883 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 43.0946ms
2026-01-07 15:14:25.886 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:14:25.888 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 200 null application/json; charset=utf-8 65.2122ms
2026-01-07 15:14:42.728 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Gift - null null
2026-01-07 15:14:42.768 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.GetAllGifts (StoreApi)'
2026-01-07 15:14:42.775 +02:00 [INF] Route matched with {action = "GetAllGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllGifts() on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 15:14:42.853 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
FROM [Gifts] AS [g]
2026-01-07 15:14:42.872 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StoreApi.DTOs.GiftDto, StoreApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-07 15:14:42.876 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.GetAllGifts (StoreApi) in 97.6214ms
2026-01-07 15:14:42.878 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.GetAllGifts (StoreApi)'
2026-01-07 15:14:42.879 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Gift - 200 null application/json; charset=utf-8 151.5268ms
2026-01-07 15:23:55.358 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 15:23:55.513 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 15:23:55.582 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 15:23:55.583 +02:00 [INF] Hosting environment: Development
2026-01-07 15:23:55.585 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 15:23:56.005 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:23:56.150 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 151.4016ms
2026-01-07 15:23:56.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:23:56.175 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:23:56.185 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 9.5798ms
2026-01-07 15:23:56.206 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.6972ms
2026-01-07 15:23:56.260 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:23:56.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.268ms
2026-01-07 15:25:18.212 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 58
2026-01-07 15:25:18.228 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 15:25:18.784 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:25:18.803 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:25:21.380 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:25:21.498 +02:00 [WRN] Login attempt failed: Invalid password for email admin@gmail.com
2026-01-07 15:25:21.517 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 15:25:21.532 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 2723.4367ms
2026-01-07 15:25:21.537 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:25:21.555 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 401 null application/json; charset=utf-8 3343.8033ms
2026-01-07 15:25:51.381 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 59
2026-01-07 15:25:51.396 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:25:51.399 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:25:51.424 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:25:51.512 +02:00 [INF] Generated JWT token for user 9
2026-01-07 15:25:51.516 +02:00 [INF] User 9 authenticated successfully
2026-01-07 15:25:51.519 +02:00 [INF] Executing OkObjectResult, writing value of type 'TrickyTrayAPI.DTOs.LoginResponseDTO'.
2026-01-07 15:25:51.523 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 121.886ms
2026-01-07 15:25:51.525 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:25:51.527 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 200 null application/json; charset=utf-8 176.6501ms
2026-01-07 15:29:11.986 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 15:29:12.136 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 15:29:12.203 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 15:29:12.205 +02:00 [INF] Hosting environment: Development
2026-01-07 15:29:12.206 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 15:29:12.616 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:29:12.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 154.5432ms
2026-01-07 15:29:12.782 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:29:12.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 9.5523ms
2026-01-07 15:29:12.800 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:29:12.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.2243ms
2026-01-07 15:29:12.904 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:29:12.924 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.9341ms
2026-01-07 15:29:37.290 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 45
2026-01-07 15:29:37.307 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 15:29:37.812 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:29:37.831 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:29:40.241 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:29:40.322 +02:00 [WRN] Login attempt failed: Invalid password for email aaa
2026-01-07 15:29:40.329 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 15:29:40.339 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 2504.0795ms
2026-01-07 15:29:40.342 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:29:40.347 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 401 null application/json; charset=utf-8 3057.2229ms
2026-01-07 15:30:30.955 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 15:30:31.101 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 15:30:31.164 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 15:30:31.165 +02:00 [INF] Hosting environment: Development
2026-01-07 15:30:31.167 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 15:30:31.548 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:30:31.694 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 151.9163ms
2026-01-07 15:30:31.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:30:31.709 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:30:31.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 18.9247ms
2026-01-07 15:30:31.748 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.5471ms
2026-01-07 15:30:31.803 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:30:31.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.3047ms
2026-01-07 15:30:42.642 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 56
2026-01-07 15:30:42.655 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 15:30:43.168 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:30:43.187 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 15:30:45.705 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 15:30:45.819 +02:00 [WRN] Login attempt failed: Invalid password for email aaa@gmail.com
2026-01-07 15:30:45.827 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 15:30:45.833 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 2640.5792ms
2026-01-07 15:30:45.846 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 15:30:45.856 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 401 null application/json; charset=utf-8 3214.1225ms
2026-01-07 15:43:27.792 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 15:43:27.951 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 15:43:28.018 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 15:43:28.020 +02:00 [INF] Hosting environment: Development
2026-01-07 15:43:28.022 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 15:43:28.354 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:43:28.506 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 158.08ms
2026-01-07 15:43:28.514 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:43:28.520 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:43:28.534 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 20.8794ms
2026-01-07 15:43:28.568 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.992ms
2026-01-07 15:43:28.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:43:28.642 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.3223ms
2026-01-07 15:59:03.490 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 15:59:03.684 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 15:59:03.762 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 15:59:03.764 +02:00 [INF] Hosting environment: Development
2026-01-07 15:59:03.765 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 15:59:03.956 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 15:59:04.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 164.062ms
2026-01-07 15:59:04.130 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 15:59:04.136 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 15:59:04.141 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 4.4958ms
2026-01-07 15:59:04.163 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6232ms
2026-01-07 15:59:04.208 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 15:59:04.227 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.6242ms
2026-01-07 16:00:41.779 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 16:00:41.942 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 16:00:42.010 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 16:00:42.012 +02:00 [INF] Hosting environment: Development
2026-01-07 16:00:42.014 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 16:00:42.293 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 16:00:42.441 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 153.3486ms
2026-01-07 16:00:42.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 16:00:42.453 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 16:00:42.457 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 6.8484ms
2026-01-07 16:00:42.483 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.3476ms
2026-01-07 16:00:42.521 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 16:00:42.543 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.5079ms
2026-01-07 16:02:09.285 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Cart - application/json 46
2026-01-07 16:02:09.296 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 16:02:09.833 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-07 16:02:09.837 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-07 16:02:09.838 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Cart - 401 0 null 553.0041ms
2026-01-07 16:02:15.587 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Cart - application/json 46
2026-01-07 16:02:15.598 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-07 16:02:15.601 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-07 16:02:15.603 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Cart - 401 0 null 15.4572ms
2026-01-07 16:02:56.334 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Auth/login - application/json 59
2026-01-07 16:02:56.369 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 16:02:56.388 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.LoginResponseDTO]] Login(TrickyTrayAPI.DTOs.LoginRequestDTO) on controller StoreApi.Controllers.AuthController (StoreApi).
2026-01-07 16:02:58.858 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2026-01-07 16:02:59.036 +02:00 [INF] Generated JWT token for user 9
2026-01-07 16:02:59.039 +02:00 [INF] User 9 authenticated successfully
2026-01-07 16:02:59.046 +02:00 [INF] Executing OkObjectResult, writing value of type 'TrickyTrayAPI.DTOs.LoginResponseDTO'.
2026-01-07 16:02:59.053 +02:00 [INF] Executed action StoreApi.Controllers.AuthController.Login (StoreApi) in 2660.136ms
2026-01-07 16:02:59.061 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.AuthController.Login (StoreApi)'
2026-01-07 16:02:59.072 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Auth/login - 200 null application/json; charset=utf-8 2738.2232ms
2026-01-07 16:03:30.800 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Cart - application/json 46
2026-01-07 16:03:30.852 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.CartController.AddToCart (StoreApi)'
2026-01-07 16:03:30.859 +02:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(StoreApi.DTOs.CreateCartDto) on controller StoreApi.Controllers.CartController (StoreApi).
2026-01-07 16:03:30.977 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cart_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[Name], [u0].[Password], [u0].[Role], [p].[Id], [p].[Count], [p].[GiftId], [p].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__cart_UserId_0
) AS [u0]
LEFT JOIN [ProductCarts] AS [p] ON [u0].[Id] = [p].[UserId]
ORDER BY [u0].[Id]
2026-01-07 16:03:31.119 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProductCarts] ([Count], [GiftId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2026-01-07 16:03:31.169 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-01-07 16:03:31.173 +02:00 [INF] Executed action StoreApi.Controllers.CartController.AddToCart (StoreApi) in 310.5907ms
2026-01-07 16:03:31.175 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.CartController.AddToCart (StoreApi)'
2026-01-07 16:03:31.177 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Cart - 200 null text/plain; charset=utf-8 376.4796ms
2026-01-07 16:04:01.147 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Order/buy?userId=2 - null 0
2026-01-07 16:04:01.161 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.OrderController.BuyCart (StoreApi)'
2026-01-07 16:04:01.168 +02:00 [INF] Route matched with {action = "BuyCart", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyCart(Int32) on controller StoreApi.Controllers.OrderController (StoreApi).
2026-01-07 16:04:01.256 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[Name], [u0].[Password], [u0].[Role], [p].[Id], [p].[Count], [p].[GiftId], [p].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [u0]
LEFT JOIN [ProductCarts] AS [p] ON [u0].[Id] = [p].[UserId]
ORDER BY [u0].[Id]
2026-01-07 16:04:01.259 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2026-01-07 16:04:01.261 +02:00 [INF] Executed action StoreApi.Controllers.OrderController.BuyCart (StoreApi) in 89.4359ms
2026-01-07 16:04:01.262 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.OrderController.BuyCart (StoreApi)'
2026-01-07 16:04:01.264 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Order/buy?userId=2 - 400 null text/plain; charset=utf-8 117.1491ms
2026-01-07 16:04:13.891 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Order/buy?userId=9 - null 0
2026-01-07 16:04:13.904 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.OrderController.BuyCart (StoreApi)'
2026-01-07 16:04:13.907 +02:00 [INF] Route matched with {action = "BuyCart", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyCart(Int32) on controller StoreApi.Controllers.OrderController (StoreApi).
2026-01-07 16:04:13.919 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[Name], [u0].[Password], [u0].[Role], [p].[Id], [p].[Count], [p].[GiftId], [p].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [u0]
LEFT JOIN [ProductCarts] AS [p] ON [u0].[Id] = [p].[UserId]
ORDER BY [u0].[Id]
2026-01-07 16:04:13.987 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([UserId])
OUTPUT INSERTED.[id]
VALUES (@p0);
DELETE FROM [ProductCarts]
OUTPUT 1
WHERE [Id] = @p1;
2026-01-07 16:04:13.998 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProductPurchaseds] ([Count], [GiftId], [Orderid], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5);
2026-01-07 16:04:14.014 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-01-07 16:04:14.017 +02:00 [INF] Executed action StoreApi.Controllers.OrderController.BuyCart (StoreApi) in 106.8015ms
2026-01-07 16:04:14.019 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.OrderController.BuyCart (StoreApi)'
2026-01-07 16:04:14.020 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Order/buy?userId=9 - 200 null text/plain; charset=utf-8 129.5965ms
2026-01-07 16:04:53.514 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:04:53.522 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:04:53.531 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:04:53.570 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:04:53.583 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:04:53.586 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 51.1593ms
2026-01-07 16:04:53.596 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:04:53.607 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 93.2393ms
2026-01-07 16:05:16.117 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Cart - application/json 47
2026-01-07 16:05:16.135 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.CartController.AddToCart (StoreApi)'
2026-01-07 16:05:16.138 +02:00 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(StoreApi.DTOs.CreateCartDto) on controller StoreApi.Controllers.CartController (StoreApi).
2026-01-07 16:05:16.155 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cart_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[Name], [u0].[Password], [u0].[Role], [p].[Id], [p].[Count], [p].[GiftId], [p].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__cart_UserId_0
) AS [u0]
LEFT JOIN [ProductCarts] AS [p] ON [u0].[Id] = [p].[UserId]
ORDER BY [u0].[Id]
2026-01-07 16:05:16.171 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProductCarts] ([Count], [GiftId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2026-01-07 16:05:16.173 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-01-07 16:05:16.175 +02:00 [INF] Executed action StoreApi.Controllers.CartController.AddToCart (StoreApi) in 34.0686ms
2026-01-07 16:05:16.176 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.CartController.AddToCart (StoreApi)'
2026-01-07 16:05:16.178 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Cart - 200 null text/plain; charset=utf-8 60.9087ms
2026-01-07 16:05:34.941 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Order/buy?userId=12 - null 0
2026-01-07 16:05:34.957 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.OrderController.BuyCart (StoreApi)'
2026-01-07 16:05:34.972 +02:00 [INF] Route matched with {action = "BuyCart", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyCart(Int32) on controller StoreApi.Controllers.OrderController (StoreApi).
2026-01-07 16:05:34.981 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[Name], [u0].[Password], [u0].[Role], [p].[Id], [p].[Count], [p].[GiftId], [p].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [u0]
LEFT JOIN [ProductCarts] AS [p] ON [u0].[Id] = [p].[UserId]
ORDER BY [u0].[Id]
2026-01-07 16:05:35.019 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([UserId])
OUTPUT INSERTED.[id]
VALUES (@p0);
DELETE FROM [ProductCarts]
OUTPUT 1
WHERE [Id] = @p1;
2026-01-07 16:05:35.052 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProductPurchaseds] ([Count], [GiftId], [Orderid], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5);
2026-01-07 16:05:35.057 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-01-07 16:05:35.060 +02:00 [INF] Executed action StoreApi.Controllers.OrderController.BuyCart (StoreApi) in 85.4998ms
2026-01-07 16:05:35.063 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.OrderController.BuyCart (StoreApi)'
2026-01-07 16:05:35.066 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Order/buy?userId=12 - 200 null text/plain; charset=utf-8 125.8369ms
2026-01-07 16:06:00.461 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:00.466 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:00.470 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:00.475 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:00.478 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:00.480 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 7.9632ms
2026-01-07 16:06:00.483 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:00.485 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 23.8082ms
2026-01-07 16:06:02.563 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:02.568 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:02.570 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:02.577 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:02.580 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:02.582 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 8.9361ms
2026-01-07 16:06:02.584 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:02.585 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 22.5558ms
2026-01-07 16:06:03.087 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:03.096 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:03.099 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:03.107 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:03.112 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:03.114 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 10.8ms
2026-01-07 16:06:03.117 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:03.120 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 32.3567ms
2026-01-07 16:06:04.016 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:04.022 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:04.025 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:04.033 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:04.048 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:04.051 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 23.4324ms
2026-01-07 16:06:04.056 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:04.060 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 43.317ms
2026-01-07 16:06:04.577 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:04.584 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:04.586 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:04.593 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:04.598 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:04.600 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 10.983ms
2026-01-07 16:06:04.602 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:04.604 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 26.1437ms
2026-01-07 16:06:05.112 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:05.119 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:05.122 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:05.129 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:05.133 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:05.136 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 11.06ms
2026-01-07 16:06:05.138 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:05.141 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 28.2228ms
2026-01-07 16:06:05.807 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:05.812 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:05.815 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:05.822 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:05.826 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:05.829 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 10.3177ms
2026-01-07 16:06:05.833 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:05.834 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 27.4878ms
2026-01-07 16:06:06.304 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:06.311 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:06.313 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:06.320 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:06.329 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:06.331 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 15.0606ms
2026-01-07 16:06:06.333 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:06.334 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 30.6854ms
2026-01-07 16:06:06.717 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:06.727 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:06.730 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:06.738 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:06.742 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:06.745 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 10.8719ms
2026-01-07 16:06:06.747 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:06.750 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 32.6368ms
2026-01-07 16:06:07.040 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - null 0
2026-01-07 16:06:07.046 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:07.051 +02:00 [INF] Route matched with {action = "LotteryForGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryForGift(Int32) on controller StoreApi.Controllers.GiftController (StoreApi).
2026-01-07 16:06:07.061 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[Description], [g0].[DonorId], [g0].[Name], [g0].[Picture], [g0].[Price], [s].[Id], [s].[Count], [s].[GiftId], [s].[Orderid], [s].[UserId], [s].[Id0], [s].[Email], [s].[Name], [s].[Password], [s].[Role]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[Picture], [g].[Price]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Count], [p].[GiftId], [p].[Orderid], [p].[UserId], [u].[Id] AS [Id0], [u].[Email], [u].[Name], [u].[Password], [u].[Role]
    FROM [ProductPurchaseds] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[Id]
2026-01-07 16:06:07.087 +02:00 [INF] Executing OkObjectResult, writing value of type 'StoreApi.DTOs.UserWinerDTO'.
2026-01-07 16:06:07.090 +02:00 [INF] Executed action StoreApi.Controllers.GiftController.LotteryForGift (StoreApi) in 34.8394ms
2026-01-07 16:06:07.093 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.GiftController.LotteryForGift (StoreApi)'
2026-01-07 16:06:07.095 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Gift/2/lottery - 200 null application/json; charset=utf-8 54.098ms
2026-01-07 16:26:40.032 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 16:26:40.340 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 16:26:40.465 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 16:26:40.520 +02:00 [INF] Hosting environment: Development
2026-01-07 16:26:40.557 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 16:26:41.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 16:26:41.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 230.6773ms
2026-01-07 16:26:41.338 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 16:26:41.356 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 16:26:41.377 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 20.668ms
2026-01-07 16:26:41.395 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.2593ms
2026-01-07 16:26:41.435 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 16:26:41.456 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.1922ms
2026-01-07 16:26:47.070 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor - null null
2026-01-07 16:26:47.172 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 16:26:48.055 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-07 16:26:48.064 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-07 16:26:48.067 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor - 401 0 null 996.3624ms
2026-01-07 16:27:00.485 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 16:27:00.499 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 13.9752ms
2026-01-07 16:27:00.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 16:27:00.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 16:27:00.525 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 15.102ms
2026-01-07 16:27:00.558 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.6784ms
2026-01-07 16:27:00.590 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 16:27:00.625 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.6706ms
2026-01-07 16:27:07.045 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor - null null
2026-01-07 16:27:07.060 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-07 16:27:07.064 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-07 16:27:07.066 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor - 401 0 null 20.8858ms
2026-01-07 16:27:19.009 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 16:27:19.156 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 16:27:19.221 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 16:27:19.223 +02:00 [INF] Hosting environment: Development
2026-01-07 16:27:19.225 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 16:27:19.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 16:27:19.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 172.6739ms
2026-01-07 16:27:19.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 16:27:19.579 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 16:27:19.587 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 16.368ms
2026-01-07 16:27:19.616 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.1593ms
2026-01-07 16:27:19.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 16:27:19.717 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.4447ms
2026-01-07 16:27:23.773 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor - null null
2026-01-07 16:27:23.781 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 16:27:24.266 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.DonorController.GetAllDonors (StoreApi)'
2026-01-07 16:27:24.309 +02:00 [INF] Route matched with {action = "GetAllDonors", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDonors() on controller StoreApi.Controllers.DonorController (StoreApi).
2026-01-07 16:27:26.579 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Address], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donors] AS [d]
2026-01-07 16:27:26.678 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StoreApi.DTOs.DonorDto, StoreApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-07 16:27:26.686 +02:00 [INF] Executed action StoreApi.Controllers.DonorController.GetAllDonors (StoreApi) in 2372.6952ms
2026-01-07 16:27:26.689 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.DonorController.GetAllDonors (StoreApi)'
2026-01-07 16:27:26.703 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor - 200 null application/json; charset=utf-8 2930.4044ms
2026-01-07 16:27:51.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor/searchByName?name=d - null null
2026-01-07 16:27:51.890 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.DonorController.GetDonorsByName (StoreApi)'
2026-01-07 16:27:51.897 +02:00 [INF] Route matched with {action = "GetDonorsByName", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonorsByName(System.String) on controller StoreApi.Controllers.DonorController (StoreApi).
2026-01-07 16:27:52.042 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__name_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Address], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donors] AS [d]
WHERE [d].[Name] LIKE @__name_0_contains ESCAPE N'\'
2026-01-07 16:27:52.045 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StoreApi.DTOs.DonorDto, StoreApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-07 16:27:52.047 +02:00 [INF] Executed action StoreApi.Controllers.DonorController.GetDonorsByName (StoreApi) in 148.1752ms
2026-01-07 16:27:52.049 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.DonorController.GetDonorsByName (StoreApi)'
2026-01-07 16:27:52.051 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor/searchByName?name=d - 200 null application/json; charset=utf-8 170.5141ms
2026-01-07 16:27:58.556 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor/searchByName?name=dd - null null
2026-01-07 16:27:58.576 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.DonorController.GetDonorsByName (StoreApi)'
2026-01-07 16:27:58.578 +02:00 [INF] Route matched with {action = "GetDonorsByName", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonorsByName(System.String) on controller StoreApi.Controllers.DonorController (StoreApi).
2026-01-07 16:27:58.648 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__name_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Address], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donors] AS [d]
WHERE [d].[Name] LIKE @__name_0_contains ESCAPE N'\'
2026-01-07 16:27:58.679 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StoreApi.DTOs.DonorDto, StoreApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-07 16:27:58.683 +02:00 [INF] Executed action StoreApi.Controllers.DonorController.GetDonorsByName (StoreApi) in 102.817ms
2026-01-07 16:27:58.686 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.DonorController.GetDonorsByName (StoreApi)'
2026-01-07 16:27:58.688 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor/searchByName?name=dd - 200 null application/json; charset=utf-8 131.7344ms
2026-01-07 16:28:15.163 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor/searchByEmail?email=%40 - null null
2026-01-07 16:28:15.171 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.DonorController.GetDonorsByEmail (StoreApi)'
2026-01-07 16:28:15.178 +02:00 [INF] Route matched with {action = "GetDonorsByEmail", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonorsByEmail(System.String) on controller StoreApi.Controllers.DonorController (StoreApi).
2026-01-07 16:28:15.195 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Address], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donors] AS [d]
WHERE [d].[Email] LIKE @__email_0_contains ESCAPE N'\'
2026-01-07 16:28:15.199 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StoreApi.DTOs.DonorDto, StoreApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-07 16:28:15.202 +02:00 [INF] Executed action StoreApi.Controllers.DonorController.GetDonorsByEmail (StoreApi) in 20.4856ms
2026-01-07 16:28:15.205 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.DonorController.GetDonorsByEmail (StoreApi)'
2026-01-07 16:28:15.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor/searchByEmail?email=%40 - 200 null application/json; charset=utf-8 44.5461ms
2026-01-07 16:28:27.923 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor/searchByEmail?email=ds - null null
2026-01-07 16:28:27.932 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.DonorController.GetDonorsByEmail (StoreApi)'
2026-01-07 16:28:27.936 +02:00 [INF] Route matched with {action = "GetDonorsByEmail", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonorsByEmail(System.String) on controller StoreApi.Controllers.DonorController (StoreApi).
2026-01-07 16:28:27.947 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Address], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donors] AS [d]
WHERE [d].[Email] LIKE @__email_0_contains ESCAPE N'\'
2026-01-07 16:28:27.954 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StoreApi.DTOs.DonorDto, StoreApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-07 16:28:27.956 +02:00 [INF] Executed action StoreApi.Controllers.DonorController.GetDonorsByEmail (StoreApi) in 16.8049ms
2026-01-07 16:28:27.959 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.DonorController.GetDonorsByEmail (StoreApi)'
2026-01-07 16:28:27.962 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor/searchByEmail?email=ds - 200 null application/json; charset=utf-8 39.3486ms
2026-01-07 16:28:59.620 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/api/Donor/searchByGift?giftId=2 - null null
2026-01-07 16:28:59.627 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.DonorController.GetDonorsByGiftId (StoreApi)'
2026-01-07 16:28:59.635 +02:00 [INF] Route matched with {action = "GetDonorsByGiftId", controller = "Donor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonorsByGiftId(Int32) on controller StoreApi.Controllers.DonorController (StoreApi).
2026-01-07 16:28:59.698 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Address], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donors] AS [d]
WHERE EXISTS (
    SELECT 1
    FROM [Gifts] AS [g]
    WHERE [d].[Id] = [g].[DonorId] AND [g].[Id] = @__giftId_0)
2026-01-07 16:28:59.705 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StoreApi.DTOs.DonorDto, StoreApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-07 16:28:59.707 +02:00 [INF] Executed action StoreApi.Controllers.DonorController.GetDonorsByGiftId (StoreApi) in 67.8657ms
2026-01-07 16:28:59.710 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.DonorController.GetDonorsByGiftId (StoreApi)'
2026-01-07 16:28:59.711 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/api/Donor/searchByGift?giftId=2 - 200 null application/json; charset=utf-8 93.7918ms
2026-01-07 17:05:28.804 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 17:05:28.966 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 17:05:29.035 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 17:05:29.037 +02:00 [INF] Hosting environment: Development
2026-01-07 17:05:29.045 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 17:05:29.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 17:05:29.524 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 182.4952ms
2026-01-07 17:05:29.547 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 17:05:29.547 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 17:05:29.568 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 20.9398ms
2026-01-07 17:05:29.598 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.0894ms
2026-01-07 17:05:29.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 17:05:29.657 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.9662ms
2026-01-07 17:06:11.647 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Users/send-winner-email - application/json 102
2026-01-07 17:06:11.659 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 17:06:12.108 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi)'
2026-01-07 17:06:12.127 +02:00 [INF] Route matched with {action = "SendWinnerEmail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendWinnerEmail(StoreApi.DTOs.NotifyWinnerDto) on controller StoreApi.Controllers.UsersController (StoreApi).
2026-01-07 17:06:16.938 +02:00 [ERR] Failed to send winner email to chany607036@gmail.com
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at StoreApi.Services.EmailService.SendGiftWonEmailAsync(String toEmail, String giftName) in M:\web_api\projectApiAngular\StoreApi\StoreApi\Services\EmailService.cs:line 66
2026-01-07 17:06:16.971 +02:00 [WRN] Failed to send winner email to chany607036@gmail.com
2026-01-07 17:06:16.977 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 17:06:16.984 +02:00 [INF] Executed action StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi) in 4845.1464ms
2026-01-07 17:06:16.986 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi)'
2026-01-07 17:06:16.989 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Users/send-winner-email - 500 null application/json; charset=utf-8 5341.7069ms
2026-01-07 17:06:53.766 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Users/send-winner-email - application/json 115
2026-01-07 17:06:53.789 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi)'
2026-01-07 17:06:53.799 +02:00 [INF] Route matched with {action = "SendWinnerEmail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendWinnerEmail(StoreApi.DTOs.NotifyWinnerDto) on controller StoreApi.Controllers.UsersController (StoreApi).
2026-01-07 17:06:57.903 +02:00 [ERR] Failed to send winner email to chany607036@gmail.com
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at StoreApi.Services.EmailService.SendGiftWonEmailAsync(String toEmail, String giftName) in M:\web_api\projectApiAngular\StoreApi\StoreApi\Services\EmailService.cs:line 66
2026-01-07 17:06:57.911 +02:00 [WRN] Failed to send winner email to chany607036@gmail.com
2026-01-07 17:06:57.917 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 17:06:57.931 +02:00 [INF] Executed action StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi) in 4129.5336ms
2026-01-07 17:06:57.934 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi)'
2026-01-07 17:06:57.936 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Users/send-winner-email - 500 null application/json; charset=utf-8 4169.7686ms
2026-01-07 17:10:26.016 +02:00 [INF] User profile is available. Using 'C:\Users\215766700\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-07 17:10:26.181 +02:00 [INF] Now listening on: http://localhost:5186
2026-01-07 17:10:26.248 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-07 17:10:26.252 +02:00 [INF] Hosting environment: Development
2026-01-07 17:10:26.254 +02:00 [INF] Content root path: M:\web_api\projectApiAngular\StoreApi\StoreApi
2026-01-07 17:10:26.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/index.html - null null
2026-01-07 17:10:26.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/index.html - 200 null text/html;charset=utf-8 155.1725ms
2026-01-07 17:10:26.890 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_vs/browserLink - null null
2026-01-07 17:10:26.891 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - null null
2026-01-07 17:10:26.914 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 22.13ms
2026-01-07 17:10:26.934 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.0563ms
2026-01-07 17:10:26.988 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - null null
2026-01-07 17:10:27.007 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5186/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.5833ms
2026-01-07 17:11:11.480 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Users/send-winner-email - application/json 117
2026-01-07 17:11:11.490 +02:00 [WRN] Failed to determine the https port for redirect.
2026-01-07 17:11:11.909 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi)'
2026-01-07 17:11:11.946 +02:00 [INF] Route matched with {action = "SendWinnerEmail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendWinnerEmail(StoreApi.DTOs.NotifyWinnerDto) on controller StoreApi.Controllers.UsersController (StoreApi).
2026-01-07 17:11:16.564 +02:00 [ERR] Failed to send winner email to chany607036@gmail.com
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at StoreApi.Services.EmailService.SendGiftWonEmailAsync(String toEmail, String giftName) in M:\web_api\projectApiAngular\StoreApi\StoreApi\Services\EmailService.cs:line 66
2026-01-07 17:11:16.585 +02:00 [WRN] Failed to send winner email to chany607036@gmail.com
2026-01-07 17:11:16.591 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 17:11:16.597 +02:00 [INF] Executed action StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi) in 4645.4423ms
2026-01-07 17:11:16.599 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi)'
2026-01-07 17:11:16.602 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Users/send-winner-email - 500 null application/json; charset=utf-8 5122.3025ms
2026-01-07 17:11:45.051 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5186/api/Users/send-winner-email - application/json 151
2026-01-07 17:11:45.060 +02:00 [INF] Executing endpoint 'StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi)'
2026-01-07 17:11:45.068 +02:00 [INF] Route matched with {action = "SendWinnerEmail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendWinnerEmail(StoreApi.DTOs.NotifyWinnerDto) on controller StoreApi.Controllers.UsersController (StoreApi).
2026-01-07 17:11:49.169 +02:00 [ERR] Failed to send winner email to chany607036@gmail.com
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at StoreApi.Services.EmailService.SendGiftWonEmailAsync(String toEmail, String giftName) in M:\web_api\projectApiAngular\StoreApi\StoreApi\Services\EmailService.cs:line 66
2026-01-07 17:11:49.178 +02:00 [WRN] Failed to send winner email to chany607036@gmail.com
2026-01-07 17:11:49.181 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-07 17:11:49.186 +02:00 [INF] Executed action StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi) in 4112.5239ms
2026-01-07 17:11:49.189 +02:00 [INF] Executed endpoint 'StoreApi.Controllers.UsersController.SendWinnerEmail (StoreApi)'
2026-01-07 17:11:49.193 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5186/api/Users/send-winner-email - 500 null application/json; charset=utf-8 4141.7831ms
